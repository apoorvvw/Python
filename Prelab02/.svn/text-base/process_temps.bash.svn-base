#! /bin/bash
#
# $Author$
# $Date$ 
# $HeadUrl$ 
# $Revision$
Num_param=$#
param_values=$@
if (( $# != 1 ))
then
    echo "usage: process_temps.bash  <input_file>"
    exit 1
fi
if [[ ! -r $1 ]]
then
    echo "Error: $1 is not a readable file."
    exit 2
fi
count=0
while read -a line
do
    ((length=${#line[*]}-1))
    sum=0
    if (( count > 0 ))
    then
    for I in ${line[*]}
    do
        if [[ $I = ${line[0]} ]]
        then
            continue 
        fi  
        (( sum=$sum+$I ))
       done       
       ((avg=$sum/$length))
       echo "Average temperature for time ${line[0]} was $avg C. "
    fi
    (( count=$count+1 ))
done < $1
exit 0
